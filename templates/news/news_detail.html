{% extends 'news/base.html' %}
{% load static %}

{% block title %}{{ new.title }} - News Portal{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/news_detail.css' %}">
{% endblock %}

{% block content %}
<article class="article-container">
    <div class="article-header">
        <a href="/" class="back-button">‚Üê –ù–∞–∑–∞–¥ –∫ –Ω–æ–≤–æ—Å—Ç—è–º</a>
        
        <h1 class="article-title">{{ new.title }}</h1>
        
        <div class="article-meta">
            <span class="meta-item">üìÖ {{ new.published_time|date:"d F Y" }}</span>
            <span class="meta-item">üè∑Ô∏è {{ new.category }}</span>
        </div>
    </div>

    <div class="article-gallery">
        {% for img in new.image.all %}
            <img src="{{ img.image.url }}" alt="{{ new.title }}" class="article-image">
        {% empty %}
            <div class="no-images-placeholder">üì∏ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</div>
        {% endfor %}
    </div>

    <div class="article-body">
        <div class="article-text">
            {{ new.text|linebreaks }}
        </div>
    </div>
</article>

<hr>

<h2>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h2>

{% for c in comments %}
<div class="comment-box">
    <strong>{{ c.user.username }}</strong><br>
    {{ c.text }}
</div>
{% empty %}
<p>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–∫–∞ –Ω–µ—Ç...</p>
{% endfor %}

<hr>

<h2>–û—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</h2>

<form method="POST">
    {% csrf_token %}
    {{ forms.as_p }}
    <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
</form>

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/news_detail.js' %}"></script>
{% endblock %}
